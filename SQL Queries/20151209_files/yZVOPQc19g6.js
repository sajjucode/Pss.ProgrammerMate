/*!CK:1257495366!*//*1449608854,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["MrDK6"]); }

__d('ReactComposerPhotoUploader',['ReactComposerLoggingStore','ReactComposerMediaConfig','ReactComposerMediaUtils','ReactComposerPhotoActions','ReactComposerPhotoUploadActions','ReactComposerPhotoUploadStore','ActorURI','AsyncUploadRequest','FaceRecognitionController','JpegResizer','Map','XComposerPhotoUploader','performanceNow'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){'use strict';if(c.__markCompiled)c.__markCompiled();function u(v,w,x){this.$ReactComposerPhotoUploader1=v.composerID;this.$ReactComposerPhotoUploader2=x;var y=i.photo,z=null;if(q.isSupported()){z=q.getSingleton(w>1?q.DEFAULT_POOL_SIZE:1);z.setHighQuality(y.highQuality);}else l.resizerUnavailable(this.$ReactComposerPhotoUploader1);var aa=n.create(y.uploadEndpoint,v.actorID);this.$ReactComposerPhotoUploader3=new s({uploadEndpoint:aa,uploadData:Object.assign({qn:h.getSessionID(this.$ReactComposerPhotoUploader1),target_id:v.targetID},y.uploadData),retryLimit:y.retryLimit,concurrentLimit:y.concurrentLimit,resizer:z,onUploadEnqueued:this.$ReactComposerPhotoUploader4.bind(this),onResizeStart:this.$ReactComposerPhotoUploader5.bind(this),onResizeSuccess:this.$ReactComposerPhotoUploader6.bind(this),onResizeFailure:this.$ReactComposerPhotoUploader7.bind(this),onResizeProgress:this.$ReactComposerPhotoUploader8.bind(this),onUploadStart:this.$ReactComposerPhotoUploader9.bind(this),onUploadProgress:this.$ReactComposerPhotoUploader10.bind(this),onUploadSuccess:this.$ReactComposerPhotoUploader11.bind(this),onUploadFailure:this.$ReactComposerPhotoUploader12.bind(this)});this.$ReactComposerPhotoUploader13=new p({include_unrecognized_faceboxes:true,include_low_confidence_recognitions:true,include_face_crop_src:true});this.$ReactComposerPhotoUploader13.subscribe('photo',this.$ReactComposerPhotoUploader14.bind(this)),this.$ReactComposerPhotoUploader13.subscribe('done',this.$ReactComposerPhotoUploader15.bind(this));this.$ReactComposerPhotoUploader16=new r();}u.prototype.upload=function(v){this.$ReactComposerPhotoUploader3.upload(v);};u.prototype.retry=function(v){var w=this.$ReactComposerPhotoUploader3.getAsyncUploadRequest([v]);w.send();};u.prototype.getAsyncUploadRequest=function(v,w){return this.$ReactComposerPhotoUploader3.getAsyncUploadRequest(v,w);};u.prototype.enqueueAsyncUploadRequest=function(v,w,x,y){w.forEach(function(z){var aa=x.indexMap?x.indexMap.get(z.uploadID):m.getUploads(v).size;l.enqueue(v,z.uploadID,z.filename,aa,y.xyTags);});this.getAsyncUploadRequest(w,x).send();};u.prototype.isUploadLimitExceeded=function(v,w){var x=this.getMaxSelectableFilesCount(v),y=!w||!o.isSupported()?1:w.length;return y>x;};u.prototype.getMaxSelectableFilesCount=function(v){return !!v?i.photo.limit:1;};u.prototype.$ReactComposerPhotoUploader4=function(v){l.enqueue(this.$ReactComposerPhotoUploader1,v.uploadID,v.fileName,m.getUploads(this.$ReactComposerPhotoUploader1).size);};u.prototype.$ReactComposerPhotoUploader5=function(v){l.startResizing(this.$ReactComposerPhotoUploader1,v.uploadID,{bytes:v.size});};u.prototype.$ReactComposerPhotoUploader8=function(v,event){setTimeout((function(){return l.progressResizing(this.$ReactComposerPhotoUploader1,v,100*event.written/event.total);}).bind(this),0);};u.prototype.$ReactComposerPhotoUploader6=function(v,w,x,y){l.doneResizing(this.$ReactComposerPhotoUploader1,v.uploadID,{dt:y,media_data_size:v.size,bytes:w.size,custom_tags:{skipped_resizing:x}});};u.prototype.$ReactComposerPhotoUploader7=function(v,w,x,y){l.failResizing(this.$ReactComposerPhotoUploader1,v.uploadID,{dt:y,bytes:v.size,error_code:x.code,error_info:x.message});};u.prototype.$ReactComposerPhotoUploader9=function(v,w){l.startUploading(this.$ReactComposerPhotoUploader1,v,w.upload);this.$ReactComposerPhotoUploader16.set(v,t());};u.prototype.$ReactComposerPhotoUploader10=function(v,w){setTimeout((function(){return l.progressUploading(this.$ReactComposerPhotoUploader1,v,100*w.event.loaded/w.event.total);}).bind(this),0);};u.prototype.$ReactComposerPhotoUploader11=function(v,w){if(m.getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,v))return;var x=w.response.payload;l.doneUploading(this.$ReactComposerPhotoUploader1,v,w.upload,t()-this.$ReactComposerPhotoUploader16.get(v),x.photoID,x.thumbSrc,x.originalPhotoID,x.mediaLocation);if(!this.$ReactComposerPhotoUploader2.disableFaceRecognition){k.startRecognizing(this.$ReactComposerPhotoUploader1,x.photoID);this.$ReactComposerPhotoUploader13.start([x.photoID]);}var y=m.getPhotoUpload(this.$ReactComposerPhotoUploader1,v);if(y.xyTags)j.handleXYTagsOnly(this.$ReactComposerPhotoUploader1,y.photoID,y.xyTags);};u.prototype.$ReactComposerPhotoUploader12=function(v,w,x){if(m.getHasUploadBeenRemoved(this.$ReactComposerPhotoUploader1,v))return;var y=w.response,z={code:y.getError(),description:y.getErrorDescription(),summary:y.getErrorSummary(),transient:y.isTransient()||y.getError()==1004||y.getError()==1006};l.failUploading(this.$ReactComposerPhotoUploader1,v,w.upload,t()-this.$ReactComposerPhotoUploader16.get(v),z);};u.prototype.$ReactComposerPhotoUploader14=function(v,w){w.faceboxes.forEach((function(x){var y;if(x.recognitions.length>0){var z=x.recognitions[0].user;y={subjectID:z.fbid,value:z.name};}k.addFacebox(this.$ReactComposerPhotoUploader1,w.photo,{id:x.fbid,x:x.x,y:x.y,top:x.top,left:x.left,width:x.width,height:x.height,croppedURI:x.src,bestRecognition:y,allRecognitions:x.allRecognitions});}).bind(this));k.finishRecognizingPhoto(this.$ReactComposerPhotoUploader1,w.photo);};u.prototype.$ReactComposerPhotoUploader15=function(v,w){k.finishRecognizing(this.$ReactComposerPhotoUploader1,w.unresolved);};f.exports=u;},null);
__d('ReactComposerScrapedAttachmentPhotoDropWarningDialog.react',['LayerHideOnEscape','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','XUIButton.react','XUIDialog.react','XUIDialogBody.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){'use strict';if(c.__markCompiled)c.__markCompiled();var s=j.PropTypes,t=j.createClass({displayName:'ReactComposerScrapedAttachmentPhotoDropWarningDialog',mixins:[i,k],propTypes:{shown:s.bool,onConfirm:s.func,onCancel:s.func},componentDidMount:function(){this.refs.dialog.layer.subscribe('hide',this._onHide);},renderLayers:function(){return {dialog:j.createElement(m,{ref:'dialog',shown:this.props.shown,width:500,layerHideOnBlur:false,behaviors:{LayerHideOnEscape:h}},j.createElement(p,null,j.createElement(q,null,r._("Remove Link Preview"))),j.createElement(n,null,r._("Uploading a photo will remove the link preview. Do you want to continue?")),j.createElement(o,null,j.createElement(l,{use:'confirm',onClick:this.props.onConfirm,label:r._("Upload Photo")}),j.createElement(l,{onClick:this.props.onCancel,label:r._("Cancel")})))};},render:function(){return null;},_onHide:function(){this.props.onCancel&&this.props.onCancel();},_onCancel:function(){this.props.onCancel&&this.props.onCancel();}});f.exports=t;},null);
__d('ReactComposerDragDropPromptContainer.react',['ReactComposerAttachmentType','ReactComposerConfig','ReactComposerDragDropPromptLazy.react','ReactComposerPhotoUploader','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerScrapedAttachmentPhotoDropWarningDialog.react','ReactComposerStatusUtils','ReactComposerVideoUploadStore','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){if(c.__markCompiled)c.__markCompiled();var u=s.PropTypes,v=s.createClass({displayName:'ReactComposerDragDropPromptContainer',_uploader:undefined,mixins:[r,t,l(q)],propTypes:{root:u.object.isRequired,config:i.isRequired},statics:{calculateState:function(w,x,y){return {enabled:!q.getVideo(w)};}},getAttachmentInitialState:function(w,x){return {photoDropWarningShown:false,pendingFiles:null};},componentWillMount:function(){var w=this.props.config.attachmentsConfig[h.STATUS],x=this.props.config.attachmentsConfig[h.MEDIA];this._uploader=new k(this.context,x.photoLimit,{disableFaceRecognition:x.disableFaceboxTagger});m.enabled(this.context.composerID,w.canScrapeShare);},renderLayers:function(){return {photoDropWarningDialog:s.createElement(o,{shown:this.state.photoDropWarningShown,onCancel:this._onPhotoDropWarningCancel,onConfirm:this._onPhotoDropWarningConfirm})};},render:function(){if(!this.state.enabled)return null;return (s.createElement(j,{root:this.props.root,onFilesDrop:this._onFilesDrop,onURLDrop:this._onURLDrop}));},_onFilesDrop:function(w){if(n.hasAttachment(this.context.composerID)&&this.state.pendingFiles==null){this.setState({photoDropWarningShown:true,pendingFiles:w});return;}p.uploadDroppedFiles(this.context.composerID,w,this._uploader);},_onPhotoDropWarningCancel:function(){this.setState({photoDropWarningShown:false,pendingFiles:null});},_onPhotoDropWarningConfirm:function(){var w=this.state.pendingFiles;this.setState({photoDropWarningShown:false,pendingFiles:null});this._onFilesDrop(w);},_onURLDrop:function(w){p.scrapeLink(this.context.composerID,this.context.targetID,w,this.context.composerType,this.context.actorID);}});f.exports=v;},null);
__d('ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react',['ReactComposerContextMixin','ReactComposerStatusActions','ReactComposerStatusAttachmentMentionsInputContainer.react','DraftEntity','ReactComponentWithPureRenderMixin','React','cx','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=m.createClass({displayName:'ComposerStatusAttachmentMentionsInputWithTagExpansionContainer',mixins:[l,h],render:function(){var q=o(this.props.className,"_395");return (m.createElement(j,babelHelpers._extends({},this.props,{className:q,onChange:this._onChange,ref:'mentionsInput'})));},focus:function(){this.refs.mentionsInput.focus();},_onChange:function(q){i.setMentions(this.context.composerID,this._getMentionsFromEditorState(q));this.props.onChange&&this.props.onChange(q);},_getMentionsFromEditorState:function(q){var r=q.getCurrentContent(),s={};r.getBlockMap().forEach(function(t){var u=t.getText();t.findEntityRanges(function(){return true;},function(v,w){var x=t.getEntityAt(v);if(!x)return;var y=k.get(x);if(y.getType()!=='MENTION'||y.getData().type!=='user')return;var z=y.getData().id;s[z]={type:'user',uid:z,text:u.slice(v,w)};});});return s;}});f.exports=p;},null);
__d('ReactComposerBackdateTaggerButton.react',['ReactComposerTaggerButtonMixin','ReactComposerTaggerType','React','cx','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=j.createClass({displayName:'ReactComposerBackdateTaggerButton',mixins:[h],statics:{taggerID:i.BACKDATE},getTitle:function(){return l._("Set date and time of your post");},getTooltip:function(){return l._("Set date and time of your post");},getClassName:function(){return "_3n04";}});f.exports=m;},null);
__d('ReactComposerBackdateTaggerComponent.react',['Grid.react','ProgressiveDateAndTimePicker.react','React','cx','emptyFunction','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=h.GridItem,o=j.PropTypes,p=j.createClass({displayName:'ReactComposerBackdateTaggerComponent',propTypes:{taggerData:o.object.isRequired,onSelect:o.func.isRequired},getDefaultProps:function(){return {taggerData:{},onSelect:l};},_onChange:function(q){this.props.onSelect(q);},render:function(){return (j.createElement(h,{cols:2,className:"_5esl",role:'presentation'},j.createElement(n,{key:'prefix',className:"_5esm",role:'presentation'},m._("When")),j.createElement(n,{key:'tagger',className:"_5esw",role:'presentation'},j.createElement(i,{className:"_5bm1",initialYear:this.props.taggerData.year,initialMonth:this.props.taggerData.month,initialDay:this.props.taggerData.day,initialHour:this.props.taggerData.hour,initialMinute:this.props.taggerData.minute,descendingYears:true,onDateAndTimeChange:this._onChange}))));}});f.exports=p;},null);
__d('ReactComposerBackdateTaggerContainer.react',['ReactComposerBackdateTaggerComponent.react','ReactComposerTaggerContainerMixin','ReactComposerTaggerType','React'],function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=k.createClass({displayName:'ReactComposerBackdateTaggerContainer',mixins:[i],statics:{taggerID:j.BACKDATE,taggerComponent:h}});f.exports=l;},null);
__d('ReactComposerImplicitLocationComponent.react',['React','XUICloseButton.react','cx','emptyFunction'],function a(b,c,d,e,f,g,h,i,j,k){'use strict';if(c.__markCompiled)c.__markCompiled();var l=h.PropTypes,m=h.createClass({displayName:'ReactComposerImplicitLocationComponent',propTypes:{caption:l.string.isRequired,hasExplicitLocation:l.bool,onClear:l.func},defaultProps:{onClear:k},render:function(){if(!this.props.caption)return h.createElement('noscript',null);var n=this.props.hasExplicitLocation?null:h.createElement(i,{className:"_3s32",size:'small',onClick:this._onClear}),o="_3s33"+(this.props.hasExplicitLocation?' '+"_3s34":'');return (h.createElement('span',{className:o},h.createElement('span',null,this.props.caption.split(',')[0]),n));},_onClear:function(event){event.stopPropagation();this.props.onClear&&this.props.onClear();}});f.exports=m;},null);
__d('ReactComposerImplicitLocationContainer.react',['ReactComposerImplicitLocationComponent.react','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','AsyncRequest','URI','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){if(c.__markCompiled)c.__markCompiled();var p=o.createClass({displayName:'ReactComposerImplicitLocationContainer',mixins:[i(k)],statics:{calculateState:function(q,r){var s=k.getTaggerData(q,l.LOCATION)||{},t=s.implicitLocation||{};return {caption:t.citystring,hasExplicitLocation:!!s.place};}},render:function(){if(!this.state.caption)return o.createElement('noscript',null);return (o.createElement(h,babelHelpers._extends({},this.state,{onClear:this._onClear})));},_onClear:function(){var q=k.getTaggerData(this.context.composerID,l.LOCATION)||{};q.implicitLocation=null;j.setTaggerData(this.context.composerID,l.LOCATION,q);var r=new n('/ajax/places/toggle_location_sharing').addQueryData({disable:1,session_id:q.sessionID});new m(r).send();}});f.exports=p;},null);
__d('ReactComposerPhotoTaggerButton.react',['ReactComposerContextMixin','ReactComposerMediaUtils','ComposerTargetData','FileInput.react','ReactComponentWithPureRenderMixin','React','TooltipLink.react','cx','fbt','joinClasses'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){if(c.__markCompiled)c.__markCompiled();var r=m.PropTypes,s=m.createClass({displayName:'ReactComposerPhotoTaggerButton',mixins:[h,l],propTypes:{mediaAcceptParam:r.shape({photos:r.string,both:r.string}).isRequired,onClick:r.func,onFilesSelected:r.func.isRequired,photoLimit:r.number.isRequired,targetData:r.instanceOf(j).isRequired,hasData:r.bool,selected:r.bool},getDefaultProps:function(){return {hasData:false,mediaAcceptParam:{},selected:false};},render:function(){var t=q("_3xen"+(' '+"_6xd")+(this.props.hasData?' '+"_6xe":'')+(this.props.selected?' '+"_50hx":''),this.props.className),u=this.props.photoLimit>1?p._("Add photos to your post"):p._("Add a photo to your post");return (m.createElement('div',{className:"_3xem _3xen"},m.createElement(k,{accept:this.props.mediaAcceptParam.both,'aria-label':u,multiple:this.props.targetData.targetSupportsMultiplePhotos,name:'composer_photo',onChange:this._onFilesSelected,onClick:this.props.onClick,ref:'fileInput',role:'button',tabIndex:'0'},m.createElement(n,{className:t,onClick:this._onSelect,tooltip:u},m.createElement('span',{className:"accessible_elem"},this.props.photoLimit>1?p._("Add photos"):p._("Add photo"))))));},_onFilesSelected:function(event){this.props.onFilesSelected(event);i.clearInput(this.refs.fileInput.getFileInput());}});f.exports=s;},null);
__d('ReactComposerPhotoTaggerButtonContainer.react',['ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerMediaFilePickerMixin','ReactComposerPhotoTaggerButton.react','ReactComposerPhotoUploadStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentStore','ComposerTargetData','ReactComposerVideoUploadStore','React'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){if(c.__markCompiled)c.__markCompiled();var s=r.PropTypes,t=r.createClass({displayName:'ReactComposerPhotoTaggerButtonContainer',mixins:[n(h,m,o),k],propTypes:{bootloader:j,customPhotoTaggerButton:s.any,disableFaceRecognition:s.bool.isRequired,mediaAcceptParam:s.shape({photos:s.string,both:s.string}),photoLimit:s.number.isRequired,targetData:s.instanceOf(p).isRequired},getDefaultProps:function(){return {disableFaceRecognition:false};},statics:{calculateState:function(u,v){var w=h.getIsAttachmentSelected(u,i.MEDIA),x=m.getUploads(u),y=!q.getVideo(u)&&!o.hasAttachment(u)&&x.size<v.photoLimit;return {hasData:!!x.size&&w,shown:y,uploadSize:x.size};}},render:function(){if(!this.state.shown)return null;if(this.props.customPhotoTaggerButton){var u=this.props.customPhotoTaggerButton;return (r.createElement(u,babelHelpers._extends({},this.props,this.state,{onClick:this._onClick,onFilesSelected:this._onFilesSelected})));}else return (r.createElement(l,babelHelpers._extends({},this.props,this.state,{onClick:this._onClick,onFilesSelected:this._onFilesSelected})));},_onClick:function(){(function(){return this._onFileInputClick(this.props.bootloader&&this.props.bootloader.mediaAttachment);}).bind(this);}});f.exports=t;},null);
__d('ReactComposerStatusFooter.react',['ReactComposerActivityTaggerButton.react','ReactComposerActivityTaggerContainer.react','ReactComposerAttachmentType','ReactComposerAudienceSelectorContainer.react','ReactComposerBackdateTaggerButton.react','ReactComposerBackdateTaggerContainer.react','ReactComposerBootloaderPropTypes','ReactComposerConfig','ReactComposerContextMixin','ReactComposerFooter.react','ReactComposerFooterActions.react','ReactComposerImplicitLocationContainer.react','ReactComposerLocationTaggerButton.react','ReactComposerLocationTaggerContainer.react','ReactComposerPeopleTaggerButton.react','ReactComposerPeopleTaggerContainer.react','ReactComposerPostButtonContainer.react','ReactComposerPhotoTaggerButtonContainer.react','ReactComposerTaggerButtons.react','ReactComposerTaggers.react','ReactComposerTaggerType','ReactComposerTaggerViewStyles','ComposerEntryPointRef','ComposerTargetData','LeftRight.react','PlaceSearchConstants','React','ReactComponentWithPureRenderMixin','cx','BasicTypeaheadLoggerJSConstants'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja){if(c.__markCompiled)c.__markCompiled();var ka=c('BasicTypeaheadLoggerJSConstants').EventNames,la=ha.PropTypes,ma=ha.createClass({displayName:'ReactComposerStatusFooter',mixins:[ia,p],propTypes:{additionalTaggers:la.arrayOf(la.shape({button:la.element.isRequired,container:la.element.isRequired})),additionalFooterActions:la.arrayOf(la.element),audienceXHP:la.instanceOf(HTMLElement),attachmentsConfig:la.object.isRequired,bootloader:n,config:o.isRequired,hasImplicitLocation:la.bool,isCameraIconEnabled:la.bool,locationTaggerPlaceholder:la.string,mediaAcceptParam:la.shape({photos:la.string,both:la.string}),mediaLocation:la.shape({latitude:la.number.isRequired,longitude:la.number.isRequired}),peopleTaggerPlaceholder:la.string,placeID:la.string,postButtonModule:la.func,taggersConfig:la.object.isRequired,targetData:la.instanceOf(ea).isRequired},getDefaultProps:function(){return {isCameraIconEnabled:true};},render:function(){var na=this.props.hasImplicitLocation?"_icv":'',oa=this.props.config.showExpandedComposer?'white':'light-wash';return (ha.createElement('div',null,this._getTaggers(),ha.createElement(q,{background:oa,className:na},ha.createElement(fa,null,this._getButtons(),this._getFooterActions()))));},_getTaggers:function(){var na=this.props.taggersConfig,oa=na[ba.PEOPLE].enabled?ha.createElement(w,{placeholder:this.props.peopleTaggerPlaceholder,showEntriesOnFocus:false,actorID:this.context.actorID,taggerConfig:na[ba.PEOPLE]}):null,pa=na[ba.LOCATION].enabled?ha.createElement(u,{implicitLocationEnabled:na[ba.LOCATION].implicitLocationEnabled,mediaLocation:this.props.mediaLocation,placeholder:this.props.locationTaggerPlaceholder,taggerConfig:na[ba.LOCATION],taggerViewStyle:ca.SCROLLABLE,typeaheadLoggerEventName:ka.REACT_COMPOSER_LOCATION_TAGGER,typeaheadSearchSource:ga.SOURCE_W_COMPOSER}):null,qa=this.context.composerType===da.TIMELINE,ra=na[ba.OG].enabled?ha.createElement(i,{actionTypeIDsWithNoFreeForm:na[ba.OG].actionTypeIDsWithNoFreeForm,actorID:this.context.actorID,isPersonalTimeline:qa,objectTaggerViewStyle:ca.SCROLLABLE,placeID:this.props.placeID,actionTypeIDsToPrefetch:na[ba.OG].actionTypeIDsToPrefetch,rankVerbs:na[ba.OG].rankVerbs,typeaheadLoggerEventName:ka.OGCOMPOSER_TAGGER}):null,sa=na[ba.BACKDATE].enabled?ha.createElement(m,null):null,ta=this.props.additionalTaggers?this.props.additionalTaggers.map(function(ua){return ua.container;}):null;return (ha.createElement(aa,null,oa,pa,ra,sa,ta));},_getButtons:function(){var na=this.props.taggersConfig,oa=this.props.attachmentsConfig[j.STATUS],pa=this.props.attachmentsConfig[j.MEDIA],qa=na[ba.CAMERA].enabled&&this.props.isCameraIconEnabled?ha.createElement(y,{bootloader:this.props.bootloader,customPhotoTaggerButton:oa.customPhotoTaggerButton,disableFaceRecognition:pa.disableFaceboxTagger,photoLimit:pa.photoLimit,mediaAcceptParam:this.props.mediaAcceptParam,targetData:this.props.targetData}):null,ra=na[ba.PEOPLE].enabled?ha.createElement(v,null):null,sa=na[ba.OG].enabled?ha.createElement(h,null):null,ta=na[ba.LOCATION].enabled?ha.createElement(t,null,ha.createElement(s,null)):null,ua=na[ba.BACKDATE].enabled?ha.createElement(l,null):null,va=this.props.additionalTaggers?this.props.additionalTaggers.map(function(wa){return wa.button;}):null;return (ha.createElement(z,null,qa,ra,sa,ta,ua,va));},_getFooterActions:function(){var na=this.props.audienceXHP?ha.createElement(k,{audienceXHP:this.props.audienceXHP,viewerIsTarget:this.props.targetData.viewerIsTarget}):null,oa=this.props.postButtonModule||x,pa=ha.createElement(oa,{config:this.props.config});return (ha.createElement(r,null,this.props.additionalFooterActions,na,pa));}});f.exports=ma;},null);
__d('ReactComposerStatusFooterContainer.react',['ReactComposerPropsAndStoreBasedStateMixin','ReactComposerStatusFooter.react','ReactComposerTaggerStore','ReactComposerTaggerType','React','ReactComponentWithPureRenderMixin'],function a(b,c,d,e,f,g,h,i,j,k,l,m){if(c.__markCompiled)c.__markCompiled();var n=l.createClass({displayName:'ReactComposerStatusFooterContainer',mixins:[m,h(j)],statics:{calculateState:function(o,p){var q=j.getTaggerData(o,k.LOCATION),r=q&&q.implicitLocation&&!!q.implicitLocation.citystring,s=q&&q.place&&q.place.getUniqueID();return {hasImplicitLocation:r,mediaLocation:q?q.mediaLocation:null,placeID:s};}},render:function(){return (l.createElement(i,babelHelpers._extends({},this.props,{hasImplicitLocation:this.state.hasImplicitLocation,mediaLocation:this.state.mediaLocation,placeID:this.state.placeID})));}});f.exports=n;},null);
__d('ReactComposerStatusAttachment.react',['ReactComposerAttachmentType','ReactComposerBootloaderPropTypes','ReactComposerConfig','ReactComposerContextMixin','ReactComposerDragDropPromptContainer.react','ReactComposerPrefillConfig','ReactComposerProfilePhotoBlock.react','ReactComposerAttachmentPreviewContainer.react','ReactComposerStatusAttachmentMentionsInputWithTagExpansionContainer.react','ReactComposerStatusFooterContainer.react','ReactComposerStatusPlaceholderFooter.react','ReactComposerTaggerSummaryContainer.react','ReactComposerTaggerSummaryPlaceholder.react','React','ReactComposerStatusActions','ComposedInlineStyle','DraftModifier','EditorState','ReactInputSelection','SelectionState'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(c.__markCompiled)c.__markCompiled();c('ReactComposerStatusActions');c('ComposedInlineStyle');c('DraftModifier');c('EditorState');c('ReactInputSelection');c('SelectionState');var v=u.PropTypes,w=u.createClass({displayName:'ReactComposerStatusAttachment',mixins:[k],propTypes:{additionalTaggers:v.arrayOf(v.shape({button:v.element.isRequired,container:v.element.isRequired})),additionalFooterActions:v.arrayOf(v.element),bootloader:i,config:j.isRequired,isActive:v.bool,onFocus:v.func,onMentionsInputChange:v.func,onPasteFiles:v.func,onPasteRawText:v.func.isRequired,onPostIntent:v.func,placeholder:v.string.isRequired,postButtonModule:v.func,prefillConfig:m,scrapeLinkOnInit:v.bool},getDefaultProps:function(){return {scrapeLinkOnInit:true};},componentWillMount:function(){if(this.props.isActive)setTimeout((function(){return this.refs.mentionsInput.focus();}).bind(this),0);},render:function(){var x;if(this.props.isActive){x=u.createElement(q,{additionalTaggers:this.props.additionalTaggers,additionalFooterActions:this.props.additionalFooterActions,attachmentsConfig:this.props.config.attachmentsConfig,audienceXHP:this.props.config.audienceXHP,bootloader:this.props.bootloader,config:this.props.config,mediaAcceptParam:this.props.config.mediaAcceptParam,postButtonModule:this.props.postButtonModule,prefillConfig:this.props.prefillConfig,taggersConfig:this.props.config.taggersConfig,targetData:this.props.config.targetData});}else if(!this.props.isActive&&this.props.config.showExpandedComposer)x=u.createElement(r,{config:this.props.config});var y=this.props.isActive?u.createElement(s,null):u.createElement(t,null),z=this.props.config.attachmentsConfig[h.STATUS],aa=z.multilingualStatus,ba=z.multilingualStatus&&this.props.isActive?u.createElement(aa,null):null,ca=z.markdownPreviewAttachment,da=null;if(ca&&this.props.isActive){var ea=ca.container;da=u.createElement(ea,{prettify:ca.prettify});}var fa=u.createElement(p,{config:this.props.config,onChange:this.props.onMentionsInputChange,onFocus:this.props.onFocus,onPasteFiles:this.props.onPasteFiles,onPasteRawText:this.props.onPasteRawText,onPostIntent:this.props.onPostIntent,placeholder:this.props.placeholder,prefillConfig:this.props.prefillConfig,ref:'mentionsInput'}),ga;if(z.showProfilePic){ga=u.createElement(n,{profilePicSrc:z.profilePicSrc,profileURI:z.profileURI},fa);}else ga=fa;var ha=z.shareInNewsFeedToggle,ia=z.shareInNewsFeedToggle?u.createElement(ha,null):null;return (u.createElement('div',{className:this.props.className},u.createElement(l,{root:this,config:this.props.config}),ga,u.createElement(o,null),ia,y,ba,da,x));}});f.exports=w;},null);
__d('ReactComposerStatusAttachmentContainer.react',['ReactComposerAttachmentActions','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerConfig','ReactComposerContextMixin','ReactComposerLocationAttachmentActions','ReactComposerPhotoUploader','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerScrapedAttachmentActions','ReactComposerStatusAttachment.react','ReactComposerStatusStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerStatusUtils','React','URLScraper'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){if(c.__markCompiled)c.__markCompiled();var x=v.createClass({displayName:'ReactComposerStatusAttachmentContainer',_uploader:undefined,mixins:[l,o(i,r,t)],statics:{calculateState:function(y,z){var aa=i.isSelectedAttachmentActive(y);return {isActive:aa};}},componentWillMount:function(){var y=this.props.config.attachmentsConfig[j.MEDIA];this._uploader=new n(this.context,y.photoLimit,{disableFaceRecognition:y.disableFaceboxTagger});},componentDidMount:function(){var y=this.props.config.attachmentsConfig[j.STATUS];p.enabled(this.context.composerID,y.canScrapeShare);m.enabled(this.context.composerID,y.canAttachLocation);if(this.props.scrapeLinkOnInit){var z=r.getMessageText(this.context.composerID);if(z)u.scrapeLink(this.context.composerID,this.context.targetID,z,this.context.composerType,this.context.actorID);}},render:function(){return (v.createElement(q,babelHelpers._extends({},this.props,this.state,{onFocus:this._onFocus,onMentionsInputChange:this._onMentionsInputChange,onPasteRawText:this._onPasteRawText,postButtonModule:this.props.postButtonModule})));},_onFocus:function(){h.selectAttachment(this.context.composerID,j.STATUS,true);s.selectTagger(this.context.composerID,null);},_onMentionsInputChange:function(y){var z=y.getCurrentContent().getPlainText();if(!w.trigger(z))u.scrapeLink(this.context.composerID,this.context.targetID,z,this.context.composerType,this.context.actorID);},_onPasteRawText:function(y){u.scrapeLink(this.context.composerID,this.context.targetID,y,this.context.composerType,this.context.actorID);}});f.exports=x;},null);
__d('ReactComposerStatusEagerAttachment.react',['ReactComposerAttachmentType','ReactComposerAttachmentBodyMixin','ReactComposerConfig','ReactComposerPrefillConfig','ReactComposerStatusActions','ReactComposerStatusAttachmentContainer.react','ReactComposerTaggerActions','React','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){if(c.__markCompiled)c.__markCompiled();var q=o.PropTypes,r=o.createClass({displayName:'ReactComposerStatusEagerAttachment',mixins:[i()],propTypes:{config:j.isRequired,postButtonModule:q.func.isRequired,selected:q.bool,prefillConfig:k},getDefaultProps:function(){return {placeholder:p._(["What's on your mind?","2340e43c54f5a3de9ca7fc0a7efc2cae"])};},statics:{attachmentID:h.STATUS},componentWillMount:function(){var s=this.props.config.attachmentsConfig[h.STATUS].bootstrapData;n.updateTaggersSource(this.context.composerID,s.taggersSource);l.setMentionsSource(this.context.composerID,s.mentionsSource);l.setTypeaheadReporter(this.context.composerID,s.typeaheadReporter);},renderX:function(){return o.createElement(m,this.props);}});f.exports=r;},null);
__d('ReactComposerMultilingualStatus.react',['ReactComposerContextMixin','CurrentUser','LtgLanguageDialectSets','LeftRight.react','Link.react','LtgLanguageDialectDropdown.react','LtgLanguageDialectSelector.react','Map','MentionsInput.react','MentionsInputTypeaheadView.react','ReactComponentWithPureRenderMixin','React','Set','TooltipLink.react','XUICloseButton.react','curry','cx','fbt','immutable'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(c.__markCompiled)c.__markCompiled();var aa=' \u00b7 ',ba=s.PropTypes,ca=s.createClass({displayName:'ReactComposerMultilingualStatus',_subscriptions:undefined,mixins:[r,h],propTypes:{statuses:ba.instanceOf(z.List).isRequired,allPostLanguageDialects:ba.instanceOf(t).isRequired,mentionsSource:ba.object,onAddingLanguageClick:ba.func,onBlur:ba.func,onChange:ba.func,onLanguageCreateClick:ba.func.isRequired,onLanguageRemoveClick:ba.func.isRequired,onLanguageDialectChange:ba.func.isRequired,onPromptClose:ba.func.isRequired,onSpecifyPostLanguage:ba.func.isRequired,selectingLanguageDialect:ba.bool.isRequired,showingPrompt:ba.bool.isRequired,specifiedPostLanguageDialect:ba.string.isRequired},getInitialState:function(){return {editorStateMap:this._getLanguageToEditorStateMap(this.props.statuses)};},componentWillReceiveProps:function(da){this.setState({editorStateMap:this._getLanguageToEditorStateMap(da.statuses)});},_getLanguageToEditorStateMap:function(da){return new o(this.props.statuses.map(function(ea){return [ea.languageDialect,ea.editorState];}));},render:function(){var da=this.props.statuses.size>0||this.props.selectingLanguageDialect?s.createElement('div',{className:"_3jk8"},s.createElement(m,{dialectsToExclude:this.props.allPostLanguageDialects,dialectToNamesMap:j.getMultilingualPostDialectNames(),initialDialect:this.props.specifiedPostLanguageDialect,onSelect:this._onSpecifyPostLanguage})):null;return (s.createElement('div',null,da,this._getTextInputs(),this._getPrompt()));},_getTextInputs:function(){var da=this.props.statuses.map((function(ea){return (s.createElement('li',{key:ea.languageDialect},s.createElement(p,{className:"_2mcl",editorState:ea.editorState,mentionsSource:this.props.mentionsSource,onBlur:w(this._onBlur,ea.languageDialect),onChange:w(this._onChange,ea.languageDialect),ref:ea.languageDialect,typeaheadView:q}),s.createElement('div',{className:"_3jk8"},s.createElement(m,{className:"_3jka",dialectsToExclude:this.props.allPostLanguageDialects,dialectToNamesMap:j.getMultilingualPostDialectNames(),initialDialect:ea.languageDialect,onSelect:(function(fa){return this._onLanguageDialectChange(ea.languageDialect,fa);}).bind(this)}),aa,s.createElement(l,{className:"_3jkb",onClick:w(this._onLanguageRemoveClick,ea.languageDialect)},y._("Remove")))));}).bind(this));return (s.createElement('ul',null,da));},_getPrompt:function(){if(!this.props.showingPrompt)return null;var da=this.props.selectingLanguageDialect?this._getSelectingLanguagePrompt():this._getWriteAnotherLanguagePrompt();return (s.createElement('div',{className:"_2mcl"},da));},_getSelectingLanguagePrompt:function(){var da=i.isEmployee()?s.createElement(u,{className:"_3iv- uiHelpLink",href:'/groups/languagefeedback/',tooltip:'Provide feedback on the Multilingual Composer (fb-only).',target:'_blank'}):null;return (s.createElement(k,null,s.createElement('div',null,y._("Select Language:"),' ',s.createElement(n,{dialectsToExclude:this.props.allPostLanguageDialects,dialectToNamesMap:j.getMultilingualPostDialectNames(),onChange:this._onLanguageCreateClick}),da),s.createElement('div',{className:"_2pic"},s.createElement(l,{onClick:this._onPromptClose},y._("Cancel")))));},_getWriteAnotherLanguagePrompt:function(){return (s.createElement(k,null,s.createElement('span',{className:"_3jk9",onClick:this.props.onAddingLanguageClick},y._("+ Write post in another language")),s.createElement(v,{className:"_4uvh",onClick:this._onPromptClose,size:'medium'})));},_onLanguageCreateClick:function(da){this.props.onLanguageCreateClick(da.value);},_onLanguageRemoveClick:function(da){this.props.onLanguageRemoveClick(da);},_onLanguageDialectChange:function(da,ea){var fa=this.state.editorStateMap.set(ea,this.state.editorStateMap.get(da));fa['delete'](da);this.setState({editorStateMap:fa});this.props.onLanguageDialectChange(da,ea);},_onSpecifyPostLanguage:function(da){this.props.onSpecifyPostLanguage(da);},_onPromptClose:function(){this.props.onPromptClose();},_onChange:function(da,ea){this.setState({editorStateMap:this.state.editorStateMap.set(da,ea)});this.props.onChange&&this.props.onChange(da,ea);},_onBlur:function(da){this.props.onBlur&&this.props.onBlur(da,this.state.editorStateMap&&this.state.editorStateMap.get(da));}});f.exports=ca;},null);
__d('ReactComposerMultilingualStatusActions',['ReactComposerDispatcher','ReactComposerMultilingualStatusActionType','ReactComposerMultilingualStatusStore','ReactComposerMultilingualLoggingStore'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();c('ReactComposerMultilingualStatusStore');c('ReactComposerMultilingualLoggingStore');j.prototype.languageCreated=function(k,l,m){'use strict';h.dispatch({composerID:k,type:i.LANGUAGE_CREATED,languageDialect:l,languageConfig:m});};j.prototype.languageRemoved=function(k,l){'use strict';h.dispatch({composerID:k,type:i.LANGUAGE_REMOVED,languageDialect:l});};j.prototype.languageChanged=function(k,l,m){'use strict';h.dispatch({composerID:k,type:i.LANGUAGE_CHANGED,oldLanguageDialect:l,newLanguageDialect:m});};j.prototype.setEditorState=function(k,l,m){'use strict';h.dispatch({composerID:k,type:i.SET_LANGUAGE_EDITOR_STATE,languageDialect:l,editorState:m});};j.prototype.setSpecifiedPostLanguage=function(k,l,m,n){'use strict';h.dispatch({composerID:k,type:i.SET_SPECIFIED_POST_LANGUAGE,languageDialect:l,actorID:m,composerType:n});};function j(){'use strict';}f.exports=new j();},null);
__d('ReactComposerMultilingualStatusContainer.react',['ReactComposerContextMixin','ReactComposerMultilingualStatusStore','ReactComposerPropsAndStoreBasedStateMixin','ReactComposerMultilingualStatus.react','ReactComposerMultilingualStatusActions','ReactComposerMultilingualStatusDialects','ReactComposerStatusStore','EditorState','ReactComponentWithPureRenderMixin','React','Set','getMentionsInputDecorator'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(c.__markCompiled)c.__markCompiled();var t=q.PropTypes,u=q.createClass({displayName:'ReactComposerMultilingualStatusContainer',mixins:[p,h,j(i)],propTypes:{onChange:t.func},getInitialState:function(){return {selectingLanguageDialect:false,showingPrompt:true};},componentWillMount:function(){this._onSpecifyPostLanguage(m.getInitialComposerDialect());},statics:{calculateState:function(v,w){return {mentionsSource:n.getMentionsSource(v),specifiedPostLanguage:i.getSpecifiedPostLanguage(v),statuses:i.getStatuses(v)};}},render:function(){return (q.createElement(k,{allPostLanguageDialects:this._getAllPostLanguageDialects(),mentionsSource:this.state.mentionsSource,onAddingLanguageClick:this._onAddingLanguageClick,onBlur:this._onBlur,onChange:this._onChange,onLanguageCreateClick:this._onLanguageCreateClick,onLanguageRemoveClick:this._onLanguageRemoveClick,onLanguageDialectChange:this._onLanguageDialectChange,onPromptClose:this._onPromptClose,onSpecifyPostLanguage:this._onSpecifyPostLanguage,selectingLanguageDialect:this.state.selectingLanguageDialect,showingPrompt:this.state.showingPrompt,specifiedPostLanguageDialect:this._getSpecifiedPostLanguage(),statuses:this.state.statuses}));},_onAddingLanguageClick:function(){this.setState({selectingLanguageDialect:true});},_onLanguageCreateClick:function(v){l.languageCreated(this.context.composerID,v,{editorState:o.createEmpty(s())});this.setState({selectingLanguageDialect:false});},_onLanguageRemoveClick:function(v){l.languageRemoved(this.context.composerID,v);},_onLanguageDialectChange:function(v,w){l.languageChanged(this.context.composerID,v,w);},_onBlur:function(v,w){l.setEditorState(this.context.composerID,v,w);},_onChange:function(v,w){l.setEditorState(this.context.composerID,v,w);},_onSpecifyPostLanguage:function(v){l.setSpecifiedPostLanguage(this.context.composerID,v,this.context.actorID,this.context.composerType);},_onPromptClose:function(){this.setState({showingPrompt:false,selectingLanguageDialect:false});},_getAllPostLanguageDialects:function(){var v=this.state.statuses.map(function(w){return w.languageDialect;});return new r(v).add(this._getSpecifiedPostLanguage());},_getSpecifiedPostLanguage:function(){return this.state.specifiedPostLanguage;}});f.exports=u;},null);
__d('createFakeAudienceSelector',['DataStore','DOM','emptyFunction'],function a(b,c,d,e,f,g,h,i,j){if(c.__markCompiled)c.__markCompiled();function k(){var l=i.create('div',null,'Only Me');h.set(l,'selector',{subscribe:function(){return {unsubscribe:j};}});return l;}f.exports=k;},null);
__d('createFakeDocumentCompositeMentionsSource',['AtSignMentionsStrategy','DocumentCompositeMentionsSource','DocumentMentionsSource','SearchableEntry','StaticSearchSource'],function a(b,c,d,e,f,g,h,i,j,k,l){if(c.__markCompiled)c.__markCompiled();var m=new l([new k({uniqueID:'731901032',title:'Daniel Lo Nigro',photo:'https://graph.facebook.com/daaniel/picture'}),new k({uniqueID:'4',title:'Mark Zuckerberg',photo:'https://graph.facebook.com/zuck/picture'}),new k({uniqueID:'203909',title:'Isaac Salier-Hellendag',photo:'https://graph.facebook.com/isaac/picture'}),new k({uniqueID:'593665957',title:'Martin Bigio',photo:'https://graph.facebook.com/martin.bigio/picture'})]);function n(){return new i([new j(h,m)]);}f.exports=n;},null);
__d('createFakeLocationSource',['CurrentUser','WebAsyncSearchSource'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){return new i({queryRequests:[{uri:'/ajax/places/typeahead',data:{viewer:h.getID(),include_address:2,include_subtext:true,exact_match:false,allow_places:true,allow_cities:true}}]});}f.exports=j;},null);
__d('createFakeMLEsCategories',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return [{'class':'mleOrganizations',icon:'/images/icons/life-events/category/mlei_menu-work_color.png',mles:[['New Job','Published Book or Paper','Retirement'],['New School','Study Abroad'],['Volunteer Work','Military Service']],title:'Work & Education'},{'class':'mleRelationships',icon:'/images/icons/life-events/category/mlei_menu-relation_color.png',mles:[['First Met','New Relationship','Engagement','Marriage'],['Expecting a Baby','New Child','New Family Member','New Pet'],['End of Relationship','Loss of a Loved One']],title:'Family & Relationships'},{'class':'mleLifestyle',icon:'/images/icons/life-events/category/mlei_menu-living_color.png',mles:[['Moved','Bought a Home','Home Improvement','New Roommate'],['New Vehicle']],title:'Home & Living'}];}f.exports=h;},null);
__d('createFakePeopleSource',['CurrentUser','WebAsyncSearchSource'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(){return new i({queryRequests:[{uri:'/ajax/typeahead/first_degree.php',data:{viewer:h.getID(),token:'v7',filter:['user'],options:['friends_only']}}]});}f.exports=j;},null);