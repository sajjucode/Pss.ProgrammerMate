/*!CK:684722725!*//*1449519527,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["VYIpd"]); }

__d('ReactComposerMediaAttachmentPostButton.react',['ReactComposerConfig','ReactComposerPostButtonContainer.react','ReactComposerVideoCopyrightDialog.react','ReactComponentWithPureRenderMixin','React','ReactLayeredComponentMixin','XUIContextualDialog.react','XUIContextualDialogBody.react','fbt'],function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){'use strict';if(c.__markCompiled)c.__markCompiled();var q=l.PropTypes,r=l.createClass({displayName:'ReactComposerMediaAttachmentPostButton',mixins:[k,m],propTypes:{config:h.isRequired,disabled:q.bool,limitExceeded:q.bool,onClick:q.func,photoLimit:q.number.isRequired,showCopyrightDialogOnPost:q.bool},getDefaultProps:function(){return {disabled:false,limitExceeded:false,showCopyrightDialogOnPost:false};},getInitialState:function(){return {copyrightDialogShown:false};},renderLayers:function(){return {limitDialog:l.createElement(n,{alignment:'right',contextRef:(function(){return this.refs.post;}).bind(this),position:'below',shown:this.props.limitExceeded,width:300},l.createElement(o,null,p._("You can only add {number} photos at a time",[p.param('number',this.props.photoLimit)]))),copyrightDialog:l.createElement(j,{shown:this.state.copyrightDialogShown,onCancel:this._onCopyrightDialogCancel,onConfirm:this._onCopyrightDialogConfirm})};},render:function(){return (l.createElement(i,{config:this.props.config,forceDisabled:this.props.disabled,onClickPreprocess:this._onClickPreprocess,ref:'post'}));},_onClickPreprocess:function(){if(this.props.showCopyrightDialogOnPost){this.setState({copyrightDialogShown:true});return false;}if(this.props.onClick){this.props.onClick();return false;}return true;},_onCopyrightDialogCancel:function(){this.setState({copyrightDialogShown:false});},_onCopyrightDialogConfirm:function(){this.setState({copyrightDialogShown:false});this.props.onClick&&this.props.onClick();}});f.exports=r;},null);